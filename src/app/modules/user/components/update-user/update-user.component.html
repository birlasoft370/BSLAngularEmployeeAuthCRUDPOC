<h2>Update User</h2>

<div *ngIf="alert" class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Success!</strong> Your data has been updated successfully.
    <button type="button" (click)="closeAlert()" class="btn-close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="container col-md-4 col-sm-6">
    <form [formGroup]="updateUserform" (ngSubmit)="collectUser()">
        <input type="hidden" formControlName="id" name="id" />
        <div class="form-group">
            <label>Name</label>
            <input type="text" id="username" placeholder="username" class="form-control" formControlName="username"
                name="username" />
            <span class="text-danger"
                *ngIf="(userFormControl.username.touched || submitted) && userFormControl.username.errors?.['required']">
                Username is required
            </span>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="text" id="oldpassword" placeholder="oldpassword" class="form-control" formControlName="oldpassword"
                name="oldpassword" />
            <span class="text-danger"
                *ngIf="(userFormControl.oldpassword.touched || submitted) && userFormControl.oldpassword.errors?.['required']">
                Password is required
            </span>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="text" id="newpassword" placeholder="newpassword" class="form-control"
             formControlName="newpassword"
                name="newpassword" />
            <span class="text-danger"
                *ngIf="(userFormControl.newpassword.touched || submitted) && userFormControl.newpassword.errors?.['required']">
               New Password is required
            </span>
            <div class="text-danger" *ngIf="(userFormControl.newpassword.errors?.['passwordStrength'])">
                Your password must have lower case, upper case and numeric characters.
            </div>
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input type="text" id="confirmpassword" placeholder="confirmpassword" class="form-control"
                formControlName="confirmpassword" name="confirmpassword" />
            <span class="text-danger"
                *ngIf="(userFormControl.confirmpassword.touched || submitted) && userFormControl.confirmpassword.errors?.['required']">
                Confirm Password is required
            </span>

            <span class="text-danger" *ngIf="userFormControl.confirmpassword.errors?.['matching']">
                password does not match
            </span>
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Submit</button>
        <a style="float:right" routerLink="../../../user">Back to List</a>
    </form>
</div>